"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cancelAllOrders = cancelAllOrders;
const web3_js_1 = require("@solana/web3.js");
const manifest_sdk_1 = require("@cks-systems/manifest-sdk");
/**
 * Cancels all orders from Manifest
 * @param agent SolanaAgentKit instance
 * @param marketId Public key for the manifest market
 * @returns Transaction signature
 */
async function cancelAllOrders(agent, marketId) {
    try {
        const mfxClient = await manifest_sdk_1.ManifestClient.getClientForMarket(agent.connection, marketId, agent.wallet);
        const cancelAllOrdersIx = await mfxClient.cancelAllIx();
        const signature = await (0, web3_js_1.sendAndConfirmTransaction)(agent.connection, new web3_js_1.Transaction().add(cancelAllOrdersIx), [agent.wallet]);
        return signature;
    }
    catch (error) {
        throw new Error(`Cancel all orders failed: ${error.message}`);
    }
}
//# sourceMappingURL=cancel_all_orders.js.map